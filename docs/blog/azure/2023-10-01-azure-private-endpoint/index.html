<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Azure Private Endpoints for VNET Integrated Ingress - Robert Grzelka</title><meta name=author content="Robert Grzelka"><meta name=author-link content="https://robertgrzelka.pl"><meta name=description content="In my another article we described a Public Network Firewall Access Control. Today we will talk about Private Endpoints for VNET Integrated Ingress.
Networking is a crucial component of any cloud infrastructure. With Azure, you can design intricate network topologies that cater to various security, isolation, and connectivity needs. Today, we&rsquo;re going to delve into Inbound Private Networking in Azure, focusing on Azure Private Endpoints and how they facilitate secure inbound connectivity."><meta name=keywords content="Azure DNS,DNS,Private Endpoint,VNet,Virtual Network,Private Link,Private DNS Zone,Terraform,App Service"><meta itemprop=name content="Azure Private Endpoints for VNET Integrated Ingress"><meta itemprop=description content="In my another article we described a Public Network Firewall Access Control. Today we will talk about Private Endpoints for VNET Integrated Ingress.
Networking is a crucial component of any cloud infrastructure. With Azure, you can design intricate network topologies that cater to various security, isolation, and connectivity needs. Today, we&rsquo;re going to delve into Inbound Private Networking in Azure, focusing on Azure Private Endpoints and how they facilitate secure inbound connectivity."><meta itemprop=datePublished content="2023-10-01T21:44:55+02:00"><meta itemprop=dateModified content="2023-10-07T13:16:40+02:00"><meta itemprop=wordCount content="893"><meta itemprop=image content="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png"><meta itemprop=keywords content="Azure DNS,DNS,Private Endpoint,VNet,Virtual Network,Private Link,Private DNS Zone,Terraform,App Service,"><meta property="og:title" content="Azure Private Endpoints for VNET Integrated Ingress"><meta property="og:description" content="In my another article we described a Public Network Firewall Access Control. Today we will talk about Private Endpoints for VNET Integrated Ingress.
Networking is a crucial component of any cloud infrastructure. With Azure, you can design intricate network topologies that cater to various security, isolation, and connectivity needs. Today, we&rsquo;re going to delve into Inbound Private Networking in Azure, focusing on Azure Private Endpoints and how they facilitate secure inbound connectivity."><meta property="og:type" content="article"><meta property="og:url" content="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/"><meta property="og:image" content="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-10-01T21:44:55+02:00"><meta property="article:modified_time" content="2023-10-07T13:16:40+02:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png"><meta name=twitter:title content="Azure Private Endpoints for VNET Integrated Ingress"><meta name=twitter:description content="In my another article we described a Public Network Firewall Access Control. Today we will talk about Private Endpoints for VNET Integrated Ingress.
Networking is a crucial component of any cloud infrastructure. With Azure, you can design intricate network topologies that cater to various security, isolation, and connectivity needs. Today, we&rsquo;re going to delve into Inbound Private Networking in Azure, focusing on Azure Private Endpoints and how they facilitate secure inbound connectivity."><meta name=application-name content="Robert Grzelka"><meta name=apple-mobile-web-app-title content="Robert Grzelka"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=https://robertgrzelka.pl/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://robertgrzelka.pl/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://robertgrzelka.pl/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=https://robertgrzelka.pl/apple-touch-icon.png><link rel=mask-icon href=https://robertgrzelka.pl/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=https://robertgrzelka.pl/site.webmanifest><link rel=canonical href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/><link rel=prev href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-public-network-firewall-access-control/><link rel=next href=https://robertgrzelka.pl/blog/azure/2023-10-02-azure-devops-variables/><link rel=stylesheet href=https://robertgrzelka.pl/css/style.min.5cfeaf8911dfae16e7f27b76edd66baf359e1c0a2e8272da365e5b1bc1b59dcf.css integrity="sha256-XP6viRHfrhbn8nt27dZrrzWeHAougnLaNl5bG8G1nc8="><link rel=stylesheet href=https://robertgrzelka.pl/lib/fontawesome-free/all.min.01b035efb5dfa529c512f82962ed633328222da6f33c224244806d4798c67349.css integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k="><link rel=stylesheet href=https://robertgrzelka.pl/lib/animate/animate.min.5fbaeb9f8e25d7e0143bae61d4b1802c16ce7390b96ceb2d498b0d96ff4c853f.css integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8="><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Azure Private Endpoints for VNET Integrated Ingress","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/robertgrzelka.pl\/blog\/azure\/2023-10-01-azure-private-endpoint\/"},"image":[{"@type":"ImageObject","url":"https:\/\/robertgrzelka.pl\/blog\/azure\/2023-10-01-azure-private-endpoint\/images\/private-endpoint.png","width":1094,"height":508}],"genre":"posts","keywords":"Azure DNS, DNS, Private Endpoint, VNet, Virtual Network, Private Link, Private DNS Zone, Terraform, App Service","wordcount":893,"url":"https:\/\/robertgrzelka.pl\/blog\/azure\/2023-10-01-azure-private-endpoint\/","datePublished":"2023-10-01T21:44:55+02:00","dateModified":"2023-10-07T13:16:40+02:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"RobertGrzelka","logo":{"@type":"ImageObject","url":"https:\/\/robertgrzelka.pl\/images\/avatar.png","width":394,"height":407}},"author":{"@type":"Person","name":"Robert Grzelka"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=narrow><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=https://robertgrzelka.pl/ title="Robert Grzelka"><img loading=lazy src=https://robertgrzelka.pl/ralf-it.min.svg srcset="https://robertgrzelka.pl///ralf-it.min.svg, /ralf-it.min.svg 1.5x, https://robertgrzelka.pl///ralf-it.min.svg 2x" sizes=auto data-title="Robert Grzelka" data-alt="Robert Grzelka" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Robert Grzelka</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item active has-children"><a class=menu-link href=https://robertgrzelka.pl/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Blog</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class="menu-item active"><a class=menu-link href=https://robertgrzelka.pl/blog/azure/ title=Azure><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Azure</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/devops/ title="Learn to create a Hugo FixIt site in minutes."><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> DevOps</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/kubernetes/ title=kubernetes><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Kubernetes</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/markdown/ title=markdown><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Markdown</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/others/ title=others><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Others</a></li></ul></li><li class="menu-item has-children"><a class=menu-link href=https://robertgrzelka.pl/about/><i class="fa-solid fa-info-circle text-success fa-fw fa-sm" aria-hidden=true></i> About</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=https://www.credly.com/users/robert-grzelka/badges rel="noopener noreferrer" target=_blank><i class="fa-solid fa-fire text-danger fa-fw fa-sm" aria-hidden=true></i> Credly</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=https://robertgrzelka.pl/ title="Robert Grzelka"><img loading=lazy src=https://robertgrzelka.pl/ralf-it.min.svg srcset="https://robertgrzelka.pl/ralf-it.min.svg, https://robertgrzelka.pl/ralf-it.min.svg 1.5x, https://robertgrzelka.pl/ralf-it.min.svg 2x" sizes=auto data-title=/ralf-it.min.svg data-alt=/ralf-it.min.svg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Robert Grzelka</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class="menu-item active"><span class=nested-item><a class=menu-link href=https://robertgrzelka.pl/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Blog</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class="menu-item active"><a class=menu-link href=https://robertgrzelka.pl/blog/azure/ title=Azure><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Azure</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/devops/ title="Learn to create a Hugo FixIt site in minutes."><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> DevOps</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/kubernetes/ title=kubernetes><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Kubernetes</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/markdown/ title=markdown><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Markdown</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/others/ title=others><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Others</a></li></ul></li><li class=menu-item><span class=nested-item><a class=menu-link href=https://robertgrzelka.pl/about/><i class="fa-solid fa-info-circle text-success fa-fw fa-sm" aria-hidden=true></i> About</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=https://www.credly.com/users/robert-grzelka/badges rel="noopener noreferrer" target=_blank><i class="fa-solid fa-fire text-danger fa-fw fa-sm" aria-hidden=true></i> Credly</a></li><li class="menu-item text-center"><a class=menu-link href=https://github.com/ralf-it/hugo-ralf-it title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=https://robertgrzelka.pl/blog/ title="The Blog.">Blog</a></li><li class=breadcrumb-item><a href=https://robertgrzelka.pl/blog/azure/ title=Azure>Azure</a></li><li class="breadcrumb-item active" aria-current=page>Azure Private Endpoints for VNET Integrated Ingress</li></ol></nav><main class="container container-reverse"><aside class=toc id=toc-auto><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside><aside class=aside-custom><div class=right style=max-width:100%;padding-left:10%;padding-right:5%;padding-top:5%><div class="home-profile text-center"><div class=home-avatar><a href=https://robertgrzelka.pl/about title=Blog><img loading=lazy src=https://robertgrzelka.pl/images/avatar.png srcset="https://robertgrzelka.pl///images/avatar.png, /images/avatar.png 1.5x, https://robertgrzelka.pl///images/avatar.png 2x" sizes=auto data-title="Robert Grzelka" data-alt="Robert Grzelka" height=150px style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)' data-h></a></div><h1 class=home-title>Robert Grzelka</h1><h2 class=home-subtitle><span class=d-none>Building Bridges in the Digital Realm: Where Code Meets Infrastructure</span>
<span id=typeit-profile-subtitle class=typeit></span></h2><div class=links><a href=https://github.com/xxxx title=GitHub target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-github-alt fa-fw" aria-hidden=true></i>
</a><a href=https://linkedin.com/in/rgr91 title=LinkedIn target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i>
</a><a href=https://twitter.com/xxxx title=Twitter target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i>
</a><a href=https://www.instagram.com/xxxx title=Instagram target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-instagram fa-fw" aria-hidden=true></i>
</a><a href=https://facebook.com/xxxx title=facebook target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-facebook fa-fw" aria-hidden=true></i>
</a><a href=https://t.me/xxxx title=Telegram target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-telegram-plane fa-fw" aria-hidden=true></i>
</a><a href=https://www.youtube.com/user/xxxx title=YouTube target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-youtube fa-fw" aria-hidden=true></i>
</a><a href=https://mastodon.technology/@xxxx title=Mastodon target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-mastodon fa-fw" aria-hidden=true></i>
</a><a href=mailto:xxxx@xxxx.com title=Email rel=me><i class="fa-regular fa-envelope fa-fw" aria-hidden=true></i>
</a><a href=https://robertgrzelka.pl/index.xml title=RSS target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-solid fa-rss fa-fw" aria-hidden=true></i></a></div><h3 class=home-disclaimer>robert.grzelka@ralf-it.com</h3></div><aside class="sidebar right-sidebar sticky"><section class="widget tagCloud"><h2 class="widget-title section-title"><i class="fa-solid fa-infinity fa-fw" aria-hidden=true></i>&nbsp;
Categories</h2><div class=tagCloud-tags><a href=https://robertgrzelka.pl/categories/guides/ class=font_size_20>Guides (7)</a>
<a href=https://robertgrzelka.pl/categories/blog/ class=font_size_18>Blog (6)</a>
<a href=https://robertgrzelka.pl/categories/advanced/ class=font_size_6>Advanced (2)</a>
<a href=https://robertgrzelka.pl/categories/basics/ class=font_size_6>Basics (2)</a></div></section><section class="widget tagCloud"><h2 class="widget-title section-title"><i class="fa-solid fa-tag fa-fw" aria-hidden=true></i>&nbsp;
Tags</h2><div class=tagCloud-tags><a href=https://robertgrzelka.pl/tags/devops/ class=font_size_20>DevOps
(5)</a>
<a href=https://robertgrzelka.pl/tags/azure/ class=font_size_12>Azure
(3)</a>
<a href=https://robertgrzelka.pl/tags/azure-dns/ class=font_size_12>Azure DNS
(3)</a>
<a href=https://robertgrzelka.pl/tags/dns/ class=font_size_12>DNS
(3)</a>
<a href=https://robertgrzelka.pl/tags/firewall/ class=font_size_12>Firewall
(3)</a>
<a href=https://robertgrzelka.pl/tags/acme/ class=font_size_8>ACME
(2)</a>
<a href=https://robertgrzelka.pl/tags/https/ class=font_size_8>HTTPS
(2)</a>
<a href=https://robertgrzelka.pl/tags/lets-encrypt/ class=font_size_8>Let's Encrypt
(2)</a>
<a href=https://robertgrzelka.pl/tags/ssl/ class=font_size_8>SSL
(2)</a>
<a href=https://robertgrzelka.pl/tags/tls/ class=font_size_8>TLS
(2)</a></div></section></aside></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Azure Private Endpoints for VNET Integrated Ingress</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://robertgrzelka.pl title=Author target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src="https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp" srcset="https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp, https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp 1.5x, https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp 2x" sizes=auto data-title="Robert Grzelka" data-alt="Robert Grzelka" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Robert Grzelka</a></span>
<span class=post-category>included in <a href=https://robertgrzelka.pl/categories/blog/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Blog</a>&ensp;<a href=https://robertgrzelka.pl/categories/guides/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Guides</a>&ensp;<a href=https://robertgrzelka.pl/categories/basics/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Basics</a></span></div><div class=post-meta-line><span title="published on 2023-10-01 21:44:55"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2023-10-01>2023-10-01</time></span>&nbsp;<span title="Updated on 2023-10-07 13:16:40"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-10-07>2023-10-07</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>893 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>5 minutes</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title="Azure Private Endpoints for VNET Integrated Ingress">
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;views
</span>&nbsp;</div></div><div class=featured-image><img loading=lazy src=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png srcset="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png, https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png 1.5x, https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png 2x" sizes=auto data-title=/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png data-alt=/blog/azure/2023-10-01-azure-private-endpoint/images/private-endpoint.png style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#what-is-azure-private-endpoint>What is Azure Private Endpoint?</a></li><li><a href=#understanding-the-diagram>Understanding the Diagram</a><ul><li><ul><li><a href=#diagram-resources>Diagram Resources</a></li><li><a href=#resources-definitions>Resources Definitions</a></li><li><a href=#network-traffic-flow>Network Traffic Flow</a></li><li><a href=#outbound-connectivity-from-app-service-to-vnet>Outbound connectivity from App Service to VNET</a></li><li><a href=#inbound-connectivity-from-vnet-to-container-registry>Inbound connectivity from VNET to Container Registry</a></li><li><a href=#private-dns-zone-resolution>Private DNS Zone Resolution</a></li></ul></li></ul></li><li><a href=#terraform-bringing-it-all-together>Terraform: Bringing It All Together</a><ul><li><a href=#terraform-code-for-private-endpoint>Terraform Code for Private Endpoint:</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></div><div class=content id=content><p>In my another <a href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-public-network-firewall-access-control/>article</a> we described a Public Network Firewall Access Control. Today we will talk about Private Endpoints for VNET Integrated Ingress.</p><p>Networking is a crucial component of any cloud infrastructure. With Azure, you can design intricate network topologies that cater to various security, isolation, and connectivity needs. Today, we&rsquo;re going to delve into Inbound Private Networking in Azure, focusing on Azure Private Endpoints and how they facilitate secure inbound connectivity.</p><h2 id=what-is-azure-private-endpoint>What is Azure Private Endpoint?</h2><p>Azure Private Endpoint is a network interface that connects you privately and securely to a service powered by Azure Private Link. The service could be an Azure service like Azure Storage, Azure Cosmos DB, SQL, Container Registry, etc., or your own Private Link Service. The connection via private endpoint uses a private IP address from your VNet, effectively bringing the service into your VNet.</p><p><img loading=lazy src=images/2023-10-07-02-57-20.png srcset="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-57-20.png, images/2023-10-07-02-57-20.png 1.5x, https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-57-20.png 2x" sizes=auto data-title=/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-57-20.png data-alt=/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-57-20.png width=1667 height=366 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><p><img loading=lazy src=images/2023-10-07-02-58-21.png srcset="https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-58-21.png, images/2023-10-07-02-58-21.png 1.5x, https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-58-21.png 2x" sizes=auto data-title=/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-58-21.png data-alt=/blog/azure/2023-10-01-azure-private-endpoint/images/2023-10-07-02-58-21.png width=1666 height=329 style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></p><h2 id=understanding-the-diagram>Understanding the Diagram</h2><p>First let&rsquo;s briefly introduce involved Azure resources, then we will use a diagram to understand how various components like Azure Container Registry, Azure App Service, VNet, and Private DNS Zones interact within VNET.</p><h4 id=diagram-resources>Diagram Resources</h4><ul><li><p><strong>Resource Group A</strong>:</p><ul><li>Container Registry</li><li>Private DNS Zone: <code>privatelink.azurecr.cn</code></li><li>Private Link</li></ul></li><li><p><strong>Resource Group B</strong>:</p><ul><li>VNet</li><li>App Service</li><li>Private Endpoint</li></ul></li></ul><h4 id=resources-definitions>Resources Definitions</h4><p><strong>Container Registry:</strong> A managed Docker container registry that allows you to store and manage container images and artifacts in a secure, scalable, and efficient way. With Private Endpoints, you can securely pull images from this registry using a private IP.</p><p><strong>Private DNS Zone:</strong> Azure&rsquo;s DNS service that allows you to use your own custom domain names rather than the Azure-provided names. In our setup, it facilitates the resolution of domain names in a VNet without the need to configure a custom DNS solution.</p><p><strong>Private Link:</strong> Azure Private Link service is a way to expose your application on a private IP address in a VNet, thus isolating it from the public internet. It ensures that data transits solely over the Microsoft backbone, removing any exposure to the public internet.</p><p><strong>VNet (Virtual Network):</strong> It acts as an isolated, highly-secure environment in Azure that allows Azure resources to securely communicate with each other, the internet, and on-premises networks. It is the backbone of Azure networking.</p><p><strong>App Service:</strong> A fully-managed platform for building, deploying, and scaling web apps. With VNet integration, App Service can have secured and streamlined connectivity to Azure resources like databases, cache, or internal services.</p><p><strong>Private Endpoint:</strong> A specific object that allows a private connection between an Azure service and a network interface in a VNet. It serves as the bridge for this private connectivity, effectively making the service part of your VNet.</p><h4 id=network-traffic-flow>Network Traffic Flow</h4><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 1024 73"><g transform="translate(8,16)"><path d="M32 16H144" fill="none" stroke="currentcolor"/><path d="M288 16h40" fill="none" stroke="currentcolor"/><path d="M328 16h32" fill="none" stroke="currentcolor"/><path d="M528 16h88" fill="none" stroke="currentcolor"/><path d="M616 16h88" fill="none" stroke="currentcolor"/><path d="M840 16h168" fill="none" stroke="currentcolor"/><path d="M144 32h24" fill="none" stroke="currentcolor"/><path d="M256 32h24" fill="none" stroke="currentcolor"/><path d="M360 32h24" fill="none" stroke="currentcolor"/><path d="M496 32h24" fill="none" stroke="currentcolor"/><path d="M704 32h24" fill="none" stroke="currentcolor"/><path d="M808 32h24" fill="none" stroke="currentcolor"/><path d="M32 48H144" fill="none" stroke="currentcolor"/><path d="M288 48h40" fill="none" stroke="currentcolor"/><path d="M328 48h32" fill="none" stroke="currentcolor"/><path d="M528 48h88" fill="none" stroke="currentcolor"/><path d="M616 48h88" fill="none" stroke="currentcolor"/><path d="M840 48h168" fill="none" stroke="currentcolor"/><path d="M32 16V48" fill="none" stroke="currentcolor"/><path d="M144 16V32" fill="none" stroke="currentcolor"/><path d="M144 32V48" fill="none" stroke="currentcolor"/><path d="M288 16V48" fill="none" stroke="currentcolor"/><path d="M360 16V32" fill="none" stroke="currentcolor"/><path d="M360 32V48" fill="none" stroke="currentcolor"/><path d="M528 16V48" fill="none" stroke="currentcolor"/><path d="M704 16V32" fill="none" stroke="currentcolor"/><path d="M704 32V48" fill="none" stroke="currentcolor"/><path d="M840 16V48" fill="none" stroke="currentcolor"/><path d="M1008 16V48" fill="none" stroke="currentcolor"/><polygon points="288.000000,32.000000 276.000000,26.400000 276.000000,37.599998" fill="currentcolor" transform="rotate(0.000000, 280.000000, 32.000000)"/><polygon points="528.000000,32.000000 516.000000,26.400000 516.000000,37.599998" fill="currentcolor" transform="rotate(0.000000, 520.000000, 32.000000)"/><polygon points="840.000000,32.000000 828.000000,26.400000 828.000000,37.599998" fill="currentcolor" transform="rotate(0.000000, 832.000000, 32.000000)"/><text text-anchor="middle" x="48" y="36" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="56" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="80" y="36" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="88" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="96" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="104" y="36" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="112" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="120" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="128" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="184" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="200" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="208" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="216" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="224" y="36" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="232" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="240" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="304" y="36" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="312" y="36" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="320" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="328" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="400" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="408" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="416" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="424" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="432" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="440" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="448" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="456" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="464" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="472" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="480" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="544" y="36" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="552" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="560" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="568" y="36" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="576" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="584" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="592" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="608" y="36" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="616" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="624" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="632" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="640" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="648" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="656" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="664" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="744" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="752" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="760" y="36" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="768" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="776" y="36" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="784" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="792" y="36" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="856" y="36" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="864" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="872" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="880" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="888" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="896" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="904" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="912" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="920" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="936" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="944" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="952" y="36" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="960" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="968" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="976" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="984" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="992" y="36" fill="currentcolor" style="font-size:1em">y</text></g></svg></div><h4 id=outbound-connectivity-from-app-service-to-vnet>Outbound connectivity from App Service to VNET</h4><p>In <strong>Resource Group B</strong>, App Service uses integrated networking with VNET for outbound connectivity, allowing it to reach services inside the VNET.</p><h4 id=inbound-connectivity-from-vnet-to-container-registry>Inbound connectivity from VNET to Container Registry</h4><p>Then the VNet connects to a Private Endpoint which in turn links to the Container Registry in <strong>Resource Group A</strong>. This setup enables inbound connectivity, allowing App Service to access the Container Registry through the VNet.</p><h4 id=private-dns-zone-resolution>Private DNS Zone Resolution</h4><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 712 73"><g transform="translate(8,16)"><path d="M32 16H96" fill="none" stroke="currentcolor"/><path d="M128 16H312" fill="none" stroke="currentcolor"/><path d="M344 16H496" fill="none" stroke="currentcolor"/><path d="M528 16H696" fill="none" stroke="currentcolor"/><path d="M96 32h24" fill="none" stroke="currentcolor"/><path d="M312 32h24" fill="none" stroke="currentcolor"/><path d="M496 32h24" fill="none" stroke="currentcolor"/><path d="M32 48H96" fill="none" stroke="currentcolor"/><path d="M128 48H312" fill="none" stroke="currentcolor"/><path d="M344 48H496" fill="none" stroke="currentcolor"/><path d="M528 48H696" fill="none" stroke="currentcolor"/><path d="M32 16V48" fill="none" stroke="currentcolor"/><path d="M96 16V32" fill="none" stroke="currentcolor"/><path d="M96 32V48" fill="none" stroke="currentcolor"/><path d="M128 16V48" fill="none" stroke="currentcolor"/><path d="M312 16V32" fill="none" stroke="currentcolor"/><path d="M312 32V48" fill="none" stroke="currentcolor"/><path d="M344 16V48" fill="none" stroke="currentcolor"/><path d="M496 16V32" fill="none" stroke="currentcolor"/><path d="M496 32V48" fill="none" stroke="currentcolor"/><path d="M528 16V48" fill="none" stroke="currentcolor"/><path d="M696 16V48" fill="none" stroke="currentcolor"/><polygon points="128.000000,32.000000 116.000000,26.400000 116.000000,37.599998" fill="currentcolor" transform="rotate(0.000000, 120.000000, 32.000000)"/><polygon points="344.000000,32.000000 332.000000,26.400000 332.000000,37.599998" fill="currentcolor" transform="rotate(0.000000, 336.000000, 32.000000)"/><polygon points="528.000000,32.000000 516.000000,26.400000 516.000000,37.599998" fill="currentcolor" transform="rotate(0.000000, 520.000000, 32.000000)"/><text text-anchor="middle" x="48" y="36" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="56" y="36" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="72" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="144" y="36" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="152" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="160" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="168" y="36" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="176" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="184" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="208" y="36" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="216" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="224" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="232" y="36" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="248" y="36" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="256" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="264" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="272" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="280" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="288" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="296" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="360" y="36" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="368" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="376" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="384" y="36" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="392" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="400" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="408" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="424" y="36" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="432" y="36" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="440" y="36" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="456" y="36" fill="currentcolor" style="font-size:1em">Z</text><text text-anchor="middle" x="464" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="472" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="480" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="544" y="36" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="552" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="560" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="568" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="576" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="584" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="592" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="600" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="608" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="624" y="36" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="632" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="640" y="36" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="648" y="36" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="656" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="664" y="36" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="672" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="680" y="36" fill="currentcolor" style="font-size:1em">y</text></g></svg></div><p>Moreover, the VNet is associated with a Private Link Connection to the Private DNS Zone. This ensures that the Container Registry is discoverable privately through DNS when accessed via the Private Endpoint.</p><h2 id=terraform-bringing-it-all-together>Terraform: Bringing It All Together</h2><p><a href=https://www.terraform.io/ target=_blank rel="external nofollow noopener noreferrer">Terraform<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a> is a popular Infrastructure as Code (IaC) tool that allows you to define and provision cloud infrastructure using a declarative configuration language. Let&rsquo;s see how you can set up the above architecture using Terraform:</p><h3 id=terraform-code-for-private-endpoint>Terraform Code for Private Endpoint:</h3><blockquote><p>NOTE:
Your private endpoint will be integrated with the private DNS zone, ie. &lsquo;privatelink.azurewebsites.net&rsquo; in the resource group of the selected subnet.
If the private DNS zone does not exist, it will be created automatically.</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-tf data-lang=tf><span class=line><span class=cl><span class=kr>resource</span> <span class=s2>&#34;azurerm_private_endpoint&#34;</span> <span class=s2>&#34;this&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>name</span> = <span class=s2>&#34;</span><span class=si>${</span><span class=nb>var</span><span class=p>.</span><span class=nx>prefix</span><span class=si>}</span><span class=s2>PE</span><span class=si>${</span><span class=nb>var</span><span class=p>.</span><span class=nx>subnet_name</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>location</span> = <span class=nb>var</span><span class=p>.</span><span class=nx>location</span>
</span></span><span class=line><span class=cl>  <span class=na>resource_group_name</span> = <span class=nb>var</span><span class=p>.</span><span class=nx>resource_group_name</span>
</span></span><span class=line><span class=cl>  <span class=na>subnet_id</span> = <span class=nb>var</span><span class=p>.</span><span class=nx>subnet_id</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>private_service_connection</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>name</span> = <span class=s2>&#34;</span><span class=si>${</span><span class=nb>var</span><span class=p>.</span><span class=nx>prefix</span><span class=si>}</span><span class=s2>PSC</span><span class=si>${</span><span class=nb>var</span><span class=p>.</span><span class=nx>subnet_name</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>private_connection_resource_id</span> = <span class=nb>var</span><span class=p>.</span><span class=nx>target_resource_id</span>
</span></span><span class=line><span class=cl>    <span class=na>subresource_names</span> = <span class=p>[</span><span class=nb>var</span><span class=p>.</span><span class=nx>target_subresource_name</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=na>is_manual_connection</span> = <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>private_dns_zone_group</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>private_dns_zone_ids</span> = <span class=p>[</span><span class=nb>var</span><span class=p>.</span><span class=nx>private_dns_zone_id</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=na>name</span> = <span class=nb>var</span><span class=p>.</span><span class=nx>private_dns_zone_name</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=conclusion>Conclusion</h2><p>Azure&rsquo;s Private Networking capabilities, especially with Private Endpoints, empower businesses to build secure, efficient, and resilient network topologies. It allows services to be exposed securely over private IPs, ensuring data doesn&rsquo;t traverse over the internet. As businesses move towards a cloud-first approach, understanding and leveraging these features is crucial.</p><p>Remember, while tools like Terraform make it easier to define and deploy such infrastructures, always ensure that you understand the underlying components and their interactions.</p><p>Stay tuned for more deep dives into Azure&rsquo;s myriad of offerings!</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2023-10-07 13:16:40">Updated on 2023-10-07&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/index.md title="Read Markdown" class=link-to-markdown>Read Markdown</a></span><span><a href=https://github.com/ralf-it/robertgrzelka.pl/edit/main/content/blog/azure/2023-10-01-azure-private-endpoint/index.en.md title="Edit this page" target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>Edit this page</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/ data-title="Azure Private Endpoints for VNET Integrated Ingress" data-via=xxxx data-hashtags="Azure DNS,DNS,Private Endpoint,VNet,Virtual Network,Private Link,Private DNS Zone,Terraform,App Service"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/ data-hashtag="Azure DNS"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/ data-title="Azure Private Endpoints for VNET Integrated Ingress"><i class="fa-brands fa-hacker-news fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/ data-title="Azure Private Endpoints for VNET Integrated Ingress"><i data-svg-src=https://robertgrzelka.pl/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-private-endpoint/ data-title="Azure Private Endpoints for VNET Integrated Ingress"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=https://robertgrzelka.pl/tags/azure-dns/ class=post-tag>Azure DNS</a><a href=https://robertgrzelka.pl/tags/dns/ class=post-tag>DNS</a><a href=https://robertgrzelka.pl/tags/private-endpoint/ class=post-tag>Private Endpoint</a><a href=https://robertgrzelka.pl/tags/vnet/ class=post-tag>VNet</a><a href=https://robertgrzelka.pl/tags/virtual-network/ class=post-tag>Virtual Network</a><a href=https://robertgrzelka.pl/tags/private-link/ class=post-tag>Private Link</a><a href=https://robertgrzelka.pl/tags/private-dns-zone/ class=post-tag>Private DNS Zone</a><a href=https://robertgrzelka.pl/tags/terraform/ class=post-tag>Terraform</a><a href=https://robertgrzelka.pl/tags/app-service/ class=post-tag>App Service</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=https://robertgrzelka.pl/>Home</a></span></section></div><div class=post-nav><a href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-public-network-firewall-access-control/ class=post-nav-item rel=prev title="Azure Public Network Firewall Access Control from VNET Subnets and IP Addresses"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Azure Public Network Firewall Access Control from VNET Subnets and IP Addresses</a>
<a href=https://robertgrzelka.pl/blog/azure/2023-10-02-azure-devops-variables/ class=post-nav-item rel=next title="Azure DevOps Pipeline Variable Types - Compile-time, Queue-time, and Run-time">Azure DevOps Pipeline Variable Types - Compile-time, Queue-time, and Run-time<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=ralf-it/robertgrzelka.pl data-repo-id=R_kgDOGihPtQ data-category=General data-category-id=DIC_kwDOGihPtc4CApHX data-mapping=title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.118.2">Hugo</a> | Theme - <a href=https://github.com/ralf-it/hugo-ralf-it target=_blank rel=external title="RALF-IT v0.2.18"><img class=ralf-it-icon src=https://robertgrzelka.pl/ralf-it.min.svg alt="RALF-IT logo">&nbsp;RALF-IT</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2021 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=https://robertgrzelka.pl target=_blank rel="external nofollow noopener noreferrer">Robert Grzelka</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title='Website running ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i><span class="run-times ms-1">Website running ...</span></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title='Total visitors'><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title='Total visits'><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/ralf-it/hugo-ralf-it title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#000;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>Theme RALF-IT works best with JavaScript enabled.</div></noscript></div><link rel=stylesheet href=https://robertgrzelka.pl/lib/lightgallery/css/lightgallery-bundle.min.120f067ebd6f322339e2ccccd7e87e334d7c7ea5b2bd553f325f2ae3c3ae6fe8.css integrity="sha256-Eg8Gfr1vMiM54szM1+h+M018fqWyvVU/Ml8q48Oub+g="><link rel=stylesheet href=https://robertgrzelka.pl/lib/cookieconsent/cookieconsent.min.cd0d0b6e50ff01ff2f3a9a70d7cfb66a7c6cb9acf7a566325568be6d3bd31fc4.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q="><link rel=stylesheet href=https://robertgrzelka.pl/lib/pace/themes/blue/pace-theme-minimal.3e16fae4203c52d34839f9d15c349407478e6a49eaf8cbaad7e258f019b7ccae.css integrity="sha256-Phb65CA8UtNIOfnRXDSUB0eOaknq+Muq1+JY8Bm3zK4="><script src=https://robertgrzelka.pl/lib/autocomplete/autocomplete.min.ae2da1bd62c6469ee27770ad1cddf2e8296d8a7f6d85b091463e5200c5e320af.js integrity="sha256-ri2hvWLGRp7id3CtHN3y6Cltin9thbCRRj5SAMXjIK8=" defer></script><script src=https://robertgrzelka.pl/lib/algoliasearch/algoliasearch-lite.umd.min.6967a37fd7ef3676c81376993b3a6583dcb7d378478e6e2975c4fc682edeb1d5.js integrity="sha256-aWejf9fvNnbIE3aZOzplg9y303hHjm4pdcT8aC7esdU=" defer></script><script src=https://robertgrzelka.pl/lib/instant-page/instantpage.min.f275af85c0e0dee6a46ed2867180f0f9a0f9cb9a4b9a74e3814fced569ef163d.js integrity="sha256-8nWvhcDg3uakbtKGcYDw+aD5y5pLmnTjgU/O1WnvFj0=" async defer type=module></script><script src=https://robertgrzelka.pl/lib/twemoji/twemoji.min.706224d8dc5440460f8ed91c1a6aad25d732af6e0ee6fb31151b157ab485babb.js integrity="sha256-cGIk2NxUQEYPjtkcGmqtJdcyr24O5vsxFRsVerSFurs=" defer></script><script src=https://robertgrzelka.pl/lib/lightgallery/lightgallery.min.a109d6550e0f5c7f5ad89c835407ceb18ed48d1e50d6d9b6c37234d5ee7ebaa8.js integrity="sha256-oQnWVQ4PXH9a2JyDVAfOsY7UjR5Q1tm2w3I01e5+uqg=" defer></script><script src=https://robertgrzelka.pl/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.baa7d26c390a254160ee3ae0f09a9a16c77d1a5b4b6853c5e4487de764fee24b.js integrity="sha256-uqfSbDkKJUFg7jrg8JqaFsd9GltLaFPF5Eh952T+4ks=" defer></script><script src=https://robertgrzelka.pl/lib/lightgallery/plugins/zoom/lg-zoom.min.056f82747a5949da14472c62a803167ecbdc3f847fc44755e5b33ec7f1319f02.js integrity="sha256-BW+CdHpZSdoURyxiqAMWfsvcP4R/xEdV5bM+x/ExnwI=" defer></script><script src=https://robertgrzelka.pl/lib/sharer/sharer.min.ba5171a78670b031914e623431a33a3d73c1ea9897e552ba73bc2c2da7c777b9.js integrity="sha256-ulFxp4ZwsDGRTmI0MaM6PXPB6piX5VK6c7wsLafHd7k=" async defer></script><script src=https://robertgrzelka.pl/lib/typeit/index.umd.16f3fa3374a7eea31f19672293edc98326413002dea74b8c413a74f1b7e4f1cf.js integrity="sha256-FvP6M3Sn7qMfGWcik+3JgyZBMALep0uMQTp08bfk8c8=" defer></script><script src=https://robertgrzelka.pl/lib/cookieconsent/cookieconsent.min.e55842a856a6d829feca3c3ad736c136b6c7549e9247274f78aa296259e06e24.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" defer></script><script src=https://robertgrzelka.pl/lib/cell-watermark/watermark.min.8518c89a43d8bcbcf981bbd3d6364ce91a5142b15e0e584e2a39dc36661d6b13.js integrity="sha256-hRjImkPYvLz5gbvT1jZM6RpRQrFeDlhOKjncNmYdaxM=" defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script src=https://robertgrzelka.pl/lib/pace/pace.min.82a77b6138e0fc1b5fa964b0b093af9dd97407173c8052262c4917413f3eaa3d.js integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" async defer></script><script>window.config={autoBookmark:!0,code:{copyTitle:"Copy to clipboard",editLockTitle:"Lock editable code block",editUnLockTitle:"Unlock editable code block",editable:!0,maxShownLines:10},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-profile-subtitle":"Building Bridges in the Digital Realm: Where Code Meets Infrastructure"},enablePWA:!0,lightgallery:!0,search:{algoliaAppID:"YKOM6PKLUY",algoliaIndex:"index.en",algoliaSearchKey:"a44c110d3ac360be2c69cd79d34b77a8",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"algolia"},siteTime:"2021-12-18T16:15:22+08:00",twemoji:!0,typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-profile-subtitle":["typeit-profile-subtitle"]},duration:-1,loop:!1,speed:100},watermark:{appendto:".wrapper>main",colspacing:30,content:"",enable:!0,fontfamily:"inherit",fontsize:.85,height:21,opacity:.0125,rotate:15,rowspacing:60,width:150}}</script><script src=https://robertgrzelka.pl/js/theme.min.3c39fd0460bb82ac0496cb3c81996b62c8854c8d6b482249987076178efff875.js integrity="sha256-PDn9BGC7gqwElss8gZlrYsiFTI1rSCJJmHB2F47/+HU=" defer></script><script src=https://robertgrzelka.pl/js/custom.min.4b54d853af10f69ba3fb09f3eef291def48696d65f9ce87137612eaa201d5349.js integrity="sha256-S1TYU68Q9puj+wnz7vKR3vSGltZfnOhxN2EuqiAdU0k=" defer></script></body></html>