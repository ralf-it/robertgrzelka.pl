<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls - Robert Grzelka</title><meta name=author content="Robert Grzelka"><meta name=author-link content="https://robert.grzelka.pl"><meta name=description content="Securing Web Services with Azure DNS: Mastering the SSL ACME Challenge Secure web services are non-negotiable, and SSL/TLS certificates stand at the forefront of this security. While Let&rsquo;s Encrypt offers these certificates, procuring them becomes a complex task if your server is shielded by a firewall that filters out incoming internet traffic. The culprit? Let&rsquo;s Encrypt&rsquo;s ACME challenge requests. Thankfully, Azure DNS comes to the rescue, providing a smooth path to your solution."><meta name=keywords content="Azure DNS,DNS,ACME,ACME Challenge,Let's Encrypt,DevOps,Certificate,SSL,TLS,Firewall"><meta itemprop=name content="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls"><meta itemprop=description content="Securing Web Services with Azure DNS: Mastering the SSL ACME Challenge Secure web services are non-negotiable, and SSL/TLS certificates stand at the forefront of this security. While Let&rsquo;s Encrypt offers these certificates, procuring them becomes a complex task if your server is shielded by a firewall that filters out incoming internet traffic. The culprit? Let&rsquo;s Encrypt&rsquo;s ACME challenge requests. Thankfully, Azure DNS comes to the rescue, providing a smooth path to your solution."><meta itemprop=datePublished content="2022-10-01T21:44:55+02:00"><meta itemprop=dateModified content="2023-10-03T19:29:10+02:00"><meta itemprop=wordCount content="439"><meta itemprop=image content="https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png"><meta itemprop=keywords content="Azure DNS,DNS,ACME,ACME Challenge,Let's Encrypt,DevOps,Certificate,SSL,TLS,Firewall,"><meta property="og:title" content="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls"><meta property="og:description" content="Securing Web Services with Azure DNS: Mastering the SSL ACME Challenge Secure web services are non-negotiable, and SSL/TLS certificates stand at the forefront of this security. While Let&rsquo;s Encrypt offers these certificates, procuring them becomes a complex task if your server is shielded by a firewall that filters out incoming internet traffic. The culprit? Let&rsquo;s Encrypt&rsquo;s ACME challenge requests. Thankfully, Azure DNS comes to the rescue, providing a smooth path to your solution."><meta property="og:type" content="article"><meta property="og:url" content="https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/"><meta property="og:image" content="https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-10-01T21:44:55+02:00"><meta property="article:modified_time" content="2023-10-03T19:29:10+02:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png"><meta name=twitter:title content="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls"><meta name=twitter:description content="Securing Web Services with Azure DNS: Mastering the SSL ACME Challenge Secure web services are non-negotiable, and SSL/TLS certificates stand at the forefront of this security. While Let&rsquo;s Encrypt offers these certificates, procuring them becomes a complex task if your server is shielded by a firewall that filters out incoming internet traffic. The culprit? Let&rsquo;s Encrypt&rsquo;s ACME challenge requests. Thankfully, Azure DNS comes to the rescue, providing a smooth path to your solution."><meta name=application-name content="Robert Grzelka"><meta name=apple-mobile-web-app-title content="Robert Grzelka"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=https://robertgrzelka.pl/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://robertgrzelka.pl/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://robertgrzelka.pl/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=https://robertgrzelka.pl/apple-touch-icon.png><link rel=mask-icon href=https://robertgrzelka.pl/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=https://robertgrzelka.pl/site.webmanifest><link rel=canonical href=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/><link rel=prev href=https://robertgrzelka.pl/blog/azure/2023-10-04-azure-private-endpoint/><link rel=next href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-devops-variables/><link rel=stylesheet href=https://robertgrzelka.pl/css/style.min.5cfeaf8911dfae16e7f27b76edd66baf359e1c0a2e8272da365e5b1bc1b59dcf.css integrity="sha256-XP6viRHfrhbn8nt27dZrrzWeHAougnLaNl5bG8G1nc8="><link rel=stylesheet href=https://robertgrzelka.pl/lib/fontawesome-free/all.min.01b035efb5dfa529c512f82962ed633328222da6f33c224244806d4798c67349.css integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k="><link rel=stylesheet href=https://robertgrzelka.pl/lib/animate/animate.min.5fbaeb9f8e25d7e0143bae61d4b1802c16ce7390b96ceb2d498b0d96ff4c853f.css integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8="><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/robertgrzelka.pl\/blog\/azure\/2023-10-03-azure-dns-for-letsencrypt-acme-challenge\/"},"image":[{"@type":"ImageObject","url":"https:\/\/robertgrzelka.pl\/blog\/azure\/2023-10-03-azure-dns-for-letsencrypt-acme-challenge\/images\/acme-azure-dns.png","width":1094,"height":400}],"genre":"posts","keywords":"Azure DNS, DNS, ACME, ACME Challenge, Let\u0027s Encrypt, DevOps, Certificate, SSL, TLS, Firewall","wordcount":439,"url":"https:\/\/robertgrzelka.pl\/blog\/azure\/2023-10-03-azure-dns-for-letsencrypt-acme-challenge\/","datePublished":"2022-10-01T21:44:55+02:00","dateModified":"2023-10-03T19:29:10+02:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"RobertGrzelka","logo":{"@type":"ImageObject","url":"https:\/\/robertgrzelka.pl\/images\/avatar.png","width":394,"height":407}},"author":{"@type":"Person","name":"Robert Grzelka"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=https://robertgrzelka.pl/ title="Robert Grzelka"><img loading=lazy src=https://robertgrzelka.pl/ralf-it.min.svg srcset="https://robertgrzelka.pl///ralf-it.min.svg, /ralf-it.min.svg 1.5x, https://robertgrzelka.pl///ralf-it.min.svg 2x" sizes=auto data-title="Robert Grzelka" data-alt="Robert Grzelka" class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Robert Grzelka</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class="menu-item active has-children"><a class=menu-link href=https://robertgrzelka.pl/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Blog</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class="menu-item active"><a class=menu-link href=https://robertgrzelka.pl/blog/azure/ title=Azure><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Azure</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/devops/ title="Learn to create a Hugo FixIt site in minutes."><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> DevOps</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/kubernetes/ title=kubernetes><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Kubernetes</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/markdown/ title=markdown><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Markdown</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/others/ title=others><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Others</a></li></ul></li><li class="menu-item has-children"><a class=menu-link href=https://robertgrzelka.pl/about/><i class="fa-solid fa-info-circle text-success fa-fw fa-sm" aria-hidden=true></i> About</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=https://www.credly.com/users/robert-grzelka/badges rel="noopener noreferrer" target=_blank><i class="fa-solid fa-fire text-danger fa-fw fa-sm" aria-hidden=true></i> Credly</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents ..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=https://robertgrzelka.pl/ title="Robert Grzelka"><img loading=lazy src=https://robertgrzelka.pl/ralf-it.min.svg srcset="https://robertgrzelka.pl/ralf-it.min.svg, https://robertgrzelka.pl/ralf-it.min.svg 1.5x, https://robertgrzelka.pl/ralf-it.min.svg 2x" sizes=auto data-title=/ralf-it.min.svg data-alt=/ralf-it.min.svg class=logo style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span class=header-title-text>Robert Grzelka</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents ..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fa-solid fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></li><li class="menu-item active"><span class=nested-item><a class=menu-link href=https://robertgrzelka.pl/blog/ title=Blog><i class="fa-solid fa-book fa-fw fa-sm" aria-hidden=true></i> Blog</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class="menu-item active"><a class=menu-link href=https://robertgrzelka.pl/blog/azure/ title=Azure><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Azure</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/devops/ title="Learn to create a Hugo FixIt site in minutes."><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> DevOps</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/kubernetes/ title=kubernetes><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Kubernetes</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/markdown/ title=markdown><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Markdown</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/blog/others/ title=others><i class="fa-brands fa-readme fa-fw fa-sm" aria-hidden=true></i> Others</a></li></ul></li><li class=menu-item><span class=nested-item><a class=menu-link href=https://robertgrzelka.pl/about/><i class="fa-solid fa-info-circle text-success fa-fw fa-sm" aria-hidden=true></i> About</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/categories/><i class="fa-solid fa-th fa-fw fa-sm" aria-hidden=true></i> Categories</a></li><li class=menu-item><a class=menu-link href=https://robertgrzelka.pl/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> Tags</a></li></ul></li><li class=menu-item><a class=menu-link href=https://www.credly.com/users/robert-grzelka/badges rel="noopener noreferrer" target=_blank><i class="fa-solid fa-fire text-danger fa-fw fa-sm" aria-hidden=true></i> Credly</a></li><li class="menu-item text-center"><a class=menu-link href=https://github.com/ralf-it/hugo-ralf-it title=GitHub rel="noopener noreferrer" target=_blank><i class='fa-brands fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=https://robertgrzelka.pl/blog/ title="The Blog.">Blog</a></li><li class=breadcrumb-item><a href=https://robertgrzelka.pl/blog/azure/ title=Azure>Azure</a></li><li class="breadcrumb-item active" aria-current=page>Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls</li></ol></nav><main class="container container-reverse"><aside class=toc id=toc-auto><h2 class=toc-title>Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside><aside class=aside-custom><div class=right style=max-width:100%><div class="home-profile text-center"><div class=home-avatar><a href=https://robertgrzelka.pl/about title=Blog><img loading=lazy src=https://robertgrzelka.pl/images/avatar.png srcset="https://robertgrzelka.pl///images/avatar.png, /images/avatar.png 1.5x, https://robertgrzelka.pl///images/avatar.png 2x" sizes=auto data-title="Robert Grzelka" data-alt="Robert Grzelka" height=150px style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)' data-h></a></div><h1 class=home-title>Robert Grzelka</h1><h2 class=home-subtitle><span class=d-none>Building Bridges in the Digital Realm: Where Code Meets Infrastructure</span>
<span id=typeit-profile-subtitle class=typeit></span></h2><div class=links><a href=https://github.com/xxxx title=GitHub target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-github-alt fa-fw" aria-hidden=true></i>
</a><a href=https://linkedin.com/in/rgr91 title=LinkedIn target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i>
</a><a href=https://twitter.com/xxxx title=Twitter target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i>
</a><a href=https://www.instagram.com/xxxx title=Instagram target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-instagram fa-fw" aria-hidden=true></i>
</a><a href=https://facebook.com/xxxx title=facebook target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-facebook fa-fw" aria-hidden=true></i>
</a><a href=https://t.me/xxxx title=Telegram target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-telegram-plane fa-fw" aria-hidden=true></i>
</a><a href=https://www.youtube.com/user/xxxx title=YouTube target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-youtube fa-fw" aria-hidden=true></i>
</a><a href=https://mastodon.technology/@xxxx title=Mastodon target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-brands fa-mastodon fa-fw" aria-hidden=true></i>
</a><a href=mailto:xxxx@xxxx.com title=Email rel=me><i class="fa-regular fa-envelope fa-fw" aria-hidden=true></i>
</a><a href=https://robertgrzelka.pl/index.xml title=RSS target=_blank rel="external nofollow noopener noreferrer me"><i class="fa-solid fa-rss fa-fw" aria-hidden=true></i></a></div><h3 class=home-disclaimer>robert.grzelka@ralf-it.com</h3></div><aside class="sidebar right-sidebar sticky"><section class="widget tagCloud"><h2 class="widget-title section-title"><i class="fa-solid fa-infinity fa-fw" aria-hidden=true></i>&nbsp;
Categories</h2><div class=tagCloud-tags><a href=https://robertgrzelka.pl/categories/guides/ class=font_size_20>Guides (4)</a>
<a href=https://robertgrzelka.pl/categories/blog/ class=font_size_15>Blog (3)</a>
<a href=https://robertgrzelka.pl/categories/basics/ class=font_size_5>Basics (1)</a></div></section><section class="widget tagCloud"><h2 class="widget-title section-title"><i class="fa-solid fa-tag fa-fw" aria-hidden=true></i>&nbsp;
Tags</h2><div class=tagCloud-tags><a href=https://robertgrzelka.pl/tags/azure-dns/ class=font_size_20>Azure DNS
(2)</a>
<a href=https://robertgrzelka.pl/tags/devops/ class=font_size_20>DevOps
(2)</a>
<a href=https://robertgrzelka.pl/tags/dns/ class=font_size_20>DNS
(2)</a>
<a href=https://robertgrzelka.pl/tags/acme/ class=font_size_10>ACME
(1)</a>
<a href=https://robertgrzelka.pl/tags/acme-challenge/ class=font_size_10>ACME Challenge
(1)</a>
<a href=https://robertgrzelka.pl/tags/azure/ class=font_size_10>Azure
(1)</a>
<a href=https://robertgrzelka.pl/tags/azure-devops/ class=font_size_10>Azure DevOps
(1)</a>
<a href=https://robertgrzelka.pl/tags/basics/ class=font_size_10>Basics
(1)</a>
<a href=https://robertgrzelka.pl/tags/certificate/ class=font_size_10>Certificate
(1)</a>
<a href=https://robertgrzelka.pl/tags/ci/cd/ class=font_size_10>CI/CD
(1)</a></div></section></aside></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://robert.grzelka.pl title=Author target=_blank rel="external nofollow noopener noreferrer author" class=author><img loading=lazy src="https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp" srcset="https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp, https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp 1.5x, https://www.gravatar.com/avatar/16cf583881177c457480eb20310b910b?s=32&amp;d=mp 2x" sizes=auto data-title="Robert Grzelka" data-alt="Robert Grzelka" class=avatar style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'>&nbsp;Robert Grzelka</a></span>
<span class=post-category>included in <a href=https://robertgrzelka.pl/categories/blog/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Blog</a>&ensp;<a href=https://robertgrzelka.pl/categories/guides/><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Guides</a></span></div><div class=post-meta-line><span title="published on 2022-10-01 21:44:55"><i class="fa-regular fa-calendar-alt fa-fw me-1" aria-hidden=true></i><time datetime=2022-10-01>2022-10-01</time></span>&nbsp;<span title="Updated on 2023-10-03 19:29:10"><i class="fa-regular fa-edit fa-fw me-1" aria-hidden=true></i><time datetime=2023-10-03>2023-10-03</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>439 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>3 minutes</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls">
<i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;views
</span>&nbsp;</div></div><div class=featured-image><img loading=lazy src=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png srcset="https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png, https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png 1.5x, https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png 2x" sizes=auto data-title=/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png data-alt=/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/images/acme-azure-dns.png style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#securing-web-services-with-azure-dns-mastering-the-ssl-acme-challenge>Securing Web Services with Azure DNS: Mastering the SSL ACME Challenge</a><ul><li><a href=#the-power-of-azure-dns>The Power of Azure DNS</a></li><li><a href=#a-peek-into-the-solution>A Peek into the Solution</a></li><li><a href=#implementing-the-solution>Implementing the Solution</a><ul><li><a href=#0-prerequisites>0. Prerequisites</a></li><li><a href=#1-azure-dns-with-acme-challenge-blueprint>1. Azure DNS with ACME Challenge Blueprint</a></li></ul></li><li><a href=#concluding-notes>Concluding Notes</a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=securing-web-services-with-azure-dns-mastering-the-ssl-acme-challenge>Securing Web Services with Azure DNS: Mastering the SSL ACME Challenge</h2><p>Secure web services are non-negotiable, and SSL/TLS certificates stand at the forefront of this security. While Let&rsquo;s Encrypt offers these certificates, procuring them becomes a complex task if your server is shielded by a firewall that filters out incoming internet traffic. The culprit? Let&rsquo;s Encrypt&rsquo;s ACME challenge requests. Thankfully, Azure DNS comes to the rescue, providing a smooth path to your solution.</p><h3 id=the-power-of-azure-dns>The Power of Azure DNS</h3><p>Azure DNS isn&rsquo;t just another tool in your arsenal; it&rsquo;s a game-changer when you&rsquo;re looking to obtain SSL/TLS certificates in environments riddled with restrictions. Our guide offers a comprehensive walkthrough, equipped with necessary scripts and configurations, ensuring you overcome these challenges effortlessly.</p><h3 id=a-peek-into-the-solution>A Peek into the Solution</h3><p>Understanding the underlying mechanism enhances implementation. Here&rsquo;s a schematic representation of our strategy:</p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 720 377"><g transform="translate(8,16)"><path d="M88 0h72" fill="none" stroke="currentcolor"/><path d="M88 32h40" fill="none" stroke="currentcolor"/><path d="M128 32h32" fill="none" stroke="currentcolor"/><path d="M88 80h40" fill="none" stroke="currentcolor"/><path d="M128 80h32" fill="none" stroke="currentcolor"/><path d="M168 96h40" fill="none" stroke="currentcolor"/><path d="M384 96h48" fill="none" stroke="currentcolor"/><path d="M88 112h40" fill="none" stroke="currentcolor"/><path d="M128 112h32" fill="none" stroke="currentcolor"/><path d="M192 160H304" fill="none" stroke="currentcolor"/><path d="M328 176h72" fill="none" stroke="currentcolor"/><path d="M192 192H304" fill="none" stroke="currentcolor"/><path d="M88 304h64" fill="none" stroke="currentcolor"/><path d="M376 304h24" fill="none" stroke="currentcolor"/><path d="M4e2 304h32" fill="none" stroke="currentcolor"/><path d="M432 304h56" fill="none" stroke="currentcolor"/><path d="M160 320h24" fill="none" stroke="currentcolor"/><path d="M320 320h48" fill="none" stroke="currentcolor"/><path d="M376 336H488" fill="none" stroke="currentcolor"/><path d="M88 352h64" fill="none" stroke="currentcolor"/><path d="M88 0V32" fill="none" stroke="currentcolor"/><path d="M88 80v32" fill="none" stroke="currentcolor"/><path d="M88 304v48" fill="none" stroke="currentcolor"/><path d="M128 32V64" fill="none" stroke="currentcolor"/><path d="M128 64V80" fill="none" stroke="currentcolor"/><path d="M128 112V224" fill="none" stroke="currentcolor"/><path d="M128 256v32" fill="none" stroke="currentcolor"/><path d="M152 304v48" fill="none" stroke="currentcolor"/><path d="M160 0V32" fill="none" stroke="currentcolor"/><path d="M160 80v32" fill="none" stroke="currentcolor"/><path d="M192 160v32" fill="none" stroke="currentcolor"/><path d="M304 160v16" fill="none" stroke="currentcolor"/><path d="M304 176v16" fill="none" stroke="currentcolor"/><path d="M376 304v32" fill="none" stroke="currentcolor"/><path d="M4e2 176V304" fill="none" stroke="currentcolor"/><path d="M432 96V288" fill="none" stroke="currentcolor"/><path d="M432 288v16" fill="none" stroke="currentcolor"/><path d="M488 304v32" fill="none" stroke="currentcolor"/><path d="M316 184l8-16" fill="none" stroke="currentcolor"/><path d="M128 64v8" fill="none" stroke="currentcolor"/><polygon points="144.000000,64.000000 132.000000,58.400002 132.000000,69.599998" fill="currentcolor" transform="rotate(90.000000, 128.000000, 64.000000)"/><path d="M128 288v8" fill="none" stroke="currentcolor"/><polygon points="144.000000,288.000000 132.000000,282.399994 132.000000,293.600006" fill="currentcolor" transform="rotate(90.000000, 128.000000, 288.000000)"/><polygon points="168.000000,320.000000 156.000000,314.399994 156.000000,325.600006" fill="currentcolor" transform="rotate(180.000000, 160.000000, 320.000000)"/><path d="M432 288v8" fill="none" stroke="currentcolor"/><polygon points="448.000000,288.000000 436.000000,282.399994 436.000000,293.600006" fill="currentcolor" transform="rotate(90.000000, 432.000000, 288.000000)"/><text text-anchor="middle" x="104" y="20" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="104" y="100" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="104" y="244" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="104" y="324" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="112" y="20" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="112" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="112" y="244" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="112" y="324" fill="currentcolor" style="font-size:1em">z</text><text text-anchor="middle" x="112" y="340" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="120" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="120" y="100" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="120" y="244" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="120" y="324" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="120" y="340" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="128" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="128" y="100" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="128" y="324" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="128" y="340" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="136" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="136" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="136" y="244" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="136" y="324" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="144" y="100" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="144" y="244" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="152" y="244" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="168" y="244" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="176" y="244" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="184" y="244" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="184" y="340" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="192" y="244" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="192" y="340" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="200" y="244" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="200" y="324" fill="currentcolor" style="font-size:1em">A</text><text text-anchor="middle" x="200" y="340" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="208" y="244" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="208" y="324" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="208" y="340" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="216" y="324" fill="currentcolor" style="font-size:1em">M</text><text text-anchor="middle" x="216" y="340" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="224" y="100" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="224" y="116" fill="currentcolor" style="font-size:1em">(</text><text text-anchor="middle" x="224" y="180" fill="currentcolor" style="font-size:1em">F</text><text text-anchor="middle" x="224" y="324" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="224" y="340" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="232" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="232" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="232" y="180" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="240" y="100" fill="currentcolor" style="font-size:1em">q</text><text text-anchor="middle" x="240" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="240" y="180" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="240" y="324" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="240" y="340" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="248" y="100" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="248" y="116" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="248" y="180" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="248" y="324" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="248" y="340" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="256" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="256" y="116" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="256" y="180" fill="currentcolor" style="font-size:1em">w</text><text text-anchor="middle" x="256" y="324" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="256" y="340" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="264" y="100" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="264" y="116" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="264" y="180" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="264" y="324" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="272" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="272" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="272" y="180" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="272" y="324" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="272" y="340" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="280" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="280" y="180" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="280" y="324" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="280" y="340" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="288" y="100" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="288" y="324" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="288" y="340" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="296" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="296" y="116" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="296" y="324" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="296" y="340" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="304" y="100" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="304" y="116" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="304" y="324" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="304" y="340" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="312" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="312" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="312" y="340" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="320" y="100" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="320" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="320" y="340" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="328" y="100" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="328" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="336" y="100" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="336" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="344" y="100" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="344" y="116" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="352" y="100" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="352" y="116" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="360" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="360" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="368" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="368" y="116" fill="currentcolor" style="font-size:1em">)</text><text text-anchor="middle" x="384" y="324" fill="currentcolor" style="font-size:1em">L</text><text text-anchor="middle" x="392" y="324" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="400" y="324" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="408" y="324" fill="currentcolor" style="font-size:1em">'</text><text text-anchor="middle" x="416" y="324" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="432" y="324" fill="currentcolor" style="font-size:1em">E</text><text text-anchor="middle" x="440" y="324" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="448" y="324" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="456" y="324" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="464" y="324" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="472" y="324" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="480" y="324" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="664" y="4" fill="currentcolor" style="font-size:1em">[</text><text text-anchor="middle" x="672" y="4" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="680" y="4" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="688" y="4" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="696" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="704" y="4" fill="currentcolor" style="font-size:1em">]</text></g></svg></div><h3 id=implementing-the-solution>Implementing the Solution</h3><p>To implement this solution, you&rsquo;ll need two main scripts: one for setting up Azure DNS with the ACME challenge and another for configuring the SSL certificate with Terraform.</p><h4 id=0-prerequisites>0. Prerequisites</h4><p>Tools:</p><ul><li>Azure CLI (<code>az</code>)</li><li>acme.sh CLI (<code>acme.sh</code>)</li></ul><p>Azure resources:</p><ul><li>existing Azure Subscription -> <code>AZUREDNS_SUBSCRIPTIONID</code></li><li>existing Azure App Registration -> <code>AZUREDNS_APPID</code></li><li>existing Azure DNS -> <code>AZDNS_ZONE</code></li></ul><h4 id=1-azure-dns-with-acme-challenge-blueprint>1. Azure DNS with ACME Challenge Blueprint</h4><blockquote><p>NOTE: Code was cleaned up from anything beside critical parts:</p><ul><li>Azure RBAC</li><li>acme.sh using Azure DNS</li></ul></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Assign &#34;DNS Zone Contributor&#34; role in Azure</span>
</span></span><span class=line><span class=cl>az role assignment create <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--role <span class=s2>&#34;DNS Zone Contributor&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--assignee <span class=s2>&#34;</span><span class=nv>$AZUREDNS_APPID</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--scope <span class=s2>&#34;/subscriptions/</span><span class=nv>$AZUREDNS_SUBSCRIPTIONID</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Issue certificate via acme.sh using Azure DNS</span>
</span></span><span class=line><span class=cl>acme.sh <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--issue <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--dns dns_azure <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-d <span class=s2>&#34;</span><span class=nv>$AZDNS_ZONE</span><span class=s2>&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=concluding-notes>Concluding Notes</h3><p>Azure DNS is your ally when conventional methods fall short. By integrating it, you not only ensure robust security with SSL/TLS certificates, even behind the most stringent firewalls, but also embrace an efficient and streamlined process. Stay updated, stay secure!</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="Updated on 2023-10-03 19:29:10">Updated on 2023-10-03&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/index.md title="Read Markdown" class=link-to-markdown>Read Markdown</a></span><span><a href=https://github.com/ralf-it/robertgrzelka.pl/edit/main/content/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/index.en.md title="Edit this page" target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>Edit this page</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/ data-title="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls" data-via=xxxx data-hashtags="Azure DNS,DNS,ACME,ACME Challenge,Let's Encrypt,DevOps,Certificate,SSL,TLS,Firewall"><i class="fa-brands fa-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/ data-hashtag="Azure DNS"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/ data-title="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls"><i class="fa-brands fa-hacker-news fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/ data-title="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls"><i data-svg-src=https://robertgrzelka.pl/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a>
<a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://robertgrzelka.pl/blog/azure/2023-10-03-azure-dns-for-letsencrypt-acme-challenge/ data-title="Azure DNS as external resource for SSL ACME Challenge to bypass Ingress Firewalls"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=https://robertgrzelka.pl/tags/azure-dns/ class=post-tag>Azure DNS</a><a href=https://robertgrzelka.pl/tags/dns/ class=post-tag>DNS</a><a href=https://robertgrzelka.pl/tags/acme/ class=post-tag>ACME</a><a href=https://robertgrzelka.pl/tags/acme-challenge/ class=post-tag>ACME Challenge</a><a href=https://robertgrzelka.pl/tags/lets-encrypt/ class=post-tag>Let's Encrypt</a><a href=https://robertgrzelka.pl/tags/devops/ class=post-tag>DevOps</a><a href=https://robertgrzelka.pl/tags/certificate/ class=post-tag>Certificate</a><a href=https://robertgrzelka.pl/tags/ssl/ class=post-tag>SSL</a><a href=https://robertgrzelka.pl/tags/tls/ class=post-tag>TLS</a><a href=https://robertgrzelka.pl/tags/firewall/ class=post-tag>Firewall</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=https://robertgrzelka.pl/>Home</a></span></section></div><div class=post-nav><a href=https://robertgrzelka.pl/blog/azure/2023-10-04-azure-private-endpoint/ class=post-nav-item rel=prev title="Azure Private Endpoints for Private Networking Ingress"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Azure Private Endpoints for Private Networking Ingress</a>
<a href=https://robertgrzelka.pl/blog/azure/2023-10-01-azure-devops-variables/ class=post-nav-item rel=next title="Azure DevOps Pipeline Variable Types - Compile-time, Queue-time, and Run-time">Azure DevOps Pipeline Variable Types - Compile-time, Queue-time, and Run-time<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-reward><div class=comment>Buy me a coffee~</div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward>Donate</label><div class=reward-ways data-mode=fixed><div><img loading=lazy src=https://robertgrzelka.pl/images/alipay.jpg srcset="https://robertgrzelka.pl/images/alipay.jpg, https://robertgrzelka.pl/images/alipay.jpg 1.5x, https://robertgrzelka.pl/images/alipay.jpg 2x" sizes=auto data-title="Robert Grzelka Alipay" data-alt="Robert Grzelka Alipay" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span data-animation>Alipay</span></div><div><img loading=lazy src=https://robertgrzelka.pl/images/wechatpay.jpg srcset="https://robertgrzelka.pl/images/wechatpay.jpg, https://robertgrzelka.pl/images/wechatpay.jpg 1.5x, https://robertgrzelka.pl/images/wechatpay.jpg 2x" sizes=auto data-title="Robert Grzelka WeChat Pay" data-alt="Robert Grzelka WeChat Pay" style="background:url(/svg/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title,this.alt=this.dataset.alt;for(const e of["style","data-title","data-alt","onerror","onload"])this.removeAttribute(e)'><span data-animation>WeChat Pay</span></div></div></div><div id=comments><div id=giscus><script src=https://giscus.app/client.js data-repo=ralf-it/robertgrzelka.pl data-repo-id=R_kgDOGihPtQ data-category=General data-category-id=DIC_kwDOGihPtc4CApHX data-mapping=title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-lang=en data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.118.2">Hugo</a> | Theme - <a href=https://github.com/ralf-it/hugo-ralf-it target=_blank rel=external title="RALF-IT v0.2.18"><img class=ralf-it-icon src=https://robertgrzelka.pl/ralf-it.min.svg alt="RALF-IT logo">&nbsp;RALF-IT</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2021 - 2023</span><span class=author itemprop=copyrightHolder>
<a href=https://robert.grzelka.pl target=_blank rel="external nofollow noopener noreferrer">Robert Grzelka</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line statistics"><span class=site-time title='Website running ...'><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i><span class="run-times ms-1">Website running ...</span></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title='Total visitors'><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title='Total visits'><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label="View Comments"><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/ralf-it/hugo-ralf-it title="View source on GitHub" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#000;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>Theme RALF-IT works best with JavaScript enabled.</div></noscript></div><link rel=stylesheet href=https://robertgrzelka.pl/lib/lightgallery/css/lightgallery-bundle.min.120f067ebd6f322339e2ccccd7e87e334d7c7ea5b2bd553f325f2ae3c3ae6fe8.css integrity="sha256-Eg8Gfr1vMiM54szM1+h+M018fqWyvVU/Ml8q48Oub+g="><link rel=stylesheet href=https://robertgrzelka.pl/lib/cookieconsent/cookieconsent.min.cd0d0b6e50ff01ff2f3a9a70d7cfb66a7c6cb9acf7a566325568be6d3bd31fc4.css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q="><link rel=stylesheet href=https://robertgrzelka.pl/lib/pace/themes/blue/pace-theme-minimal.3e16fae4203c52d34839f9d15c349407478e6a49eaf8cbaad7e258f019b7ccae.css integrity="sha256-Phb65CA8UtNIOfnRXDSUB0eOaknq+Muq1+JY8Bm3zK4="><script src=https://robertgrzelka.pl/lib/autocomplete/autocomplete.min.ae2da1bd62c6469ee27770ad1cddf2e8296d8a7f6d85b091463e5200c5e320af.js integrity="sha256-ri2hvWLGRp7id3CtHN3y6Cltin9thbCRRj5SAMXjIK8=" defer></script><script src=https://robertgrzelka.pl/lib/algoliasearch/algoliasearch-lite.umd.min.6967a37fd7ef3676c81376993b3a6583dcb7d378478e6e2975c4fc682edeb1d5.js integrity="sha256-aWejf9fvNnbIE3aZOzplg9y303hHjm4pdcT8aC7esdU=" defer></script><script src=https://robertgrzelka.pl/lib/instant-page/instantpage.min.f275af85c0e0dee6a46ed2867180f0f9a0f9cb9a4b9a74e3814fced569ef163d.js integrity="sha256-8nWvhcDg3uakbtKGcYDw+aD5y5pLmnTjgU/O1WnvFj0=" async defer type=module></script><script src=https://robertgrzelka.pl/lib/twemoji/twemoji.min.706224d8dc5440460f8ed91c1a6aad25d732af6e0ee6fb31151b157ab485babb.js integrity="sha256-cGIk2NxUQEYPjtkcGmqtJdcyr24O5vsxFRsVerSFurs=" defer></script><script src=https://robertgrzelka.pl/lib/lightgallery/lightgallery.min.a109d6550e0f5c7f5ad89c835407ceb18ed48d1e50d6d9b6c37234d5ee7ebaa8.js integrity="sha256-oQnWVQ4PXH9a2JyDVAfOsY7UjR5Q1tm2w3I01e5+uqg=" defer></script><script src=https://robertgrzelka.pl/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.baa7d26c390a254160ee3ae0f09a9a16c77d1a5b4b6853c5e4487de764fee24b.js integrity="sha256-uqfSbDkKJUFg7jrg8JqaFsd9GltLaFPF5Eh952T+4ks=" defer></script><script src=https://robertgrzelka.pl/lib/lightgallery/plugins/zoom/lg-zoom.min.056f82747a5949da14472c62a803167ecbdc3f847fc44755e5b33ec7f1319f02.js integrity="sha256-BW+CdHpZSdoURyxiqAMWfsvcP4R/xEdV5bM+x/ExnwI=" defer></script><script src=https://robertgrzelka.pl/lib/sharer/sharer.min.ba5171a78670b031914e623431a33a3d73c1ea9897e552ba73bc2c2da7c777b9.js integrity="sha256-ulFxp4ZwsDGRTmI0MaM6PXPB6piX5VK6c7wsLafHd7k=" async defer></script><script src=https://robertgrzelka.pl/lib/typeit/index.umd.16f3fa3374a7eea31f19672293edc98326413002dea74b8c413a74f1b7e4f1cf.js integrity="sha256-FvP6M3Sn7qMfGWcik+3JgyZBMALep0uMQTp08bfk8c8=" defer></script><script src=https://robertgrzelka.pl/lib/cookieconsent/cookieconsent.min.e55842a856a6d829feca3c3ad736c136b6c7549e9247274f78aa296259e06e24.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" defer></script><script src=https://robertgrzelka.pl/lib/cell-watermark/watermark.min.8518c89a43d8bcbcf981bbd3d6364ce91a5142b15e0e584e2a39dc36661d6b13.js integrity="sha256-hRjImkPYvLz5gbvT1jZM6RpRQrFeDlhOKjncNmYdaxM=" defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script src=https://robertgrzelka.pl/lib/pace/pace.min.82a77b6138e0fc1b5fa964b0b093af9dd97407173c8052262c4917413f3eaa3d.js integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" async defer></script><script>window.config={autoBookmark:!0,code:{copyTitle:"Copy to clipboard",editLockTitle:"Lock editable code block",editUnLockTitle:"Unlock editable code block",editable:!0,maxShownLines:10},comment:{enable:!0,expired:!1,giscus:{darkTheme:"dark_dimmed",lightTheme:"light"}},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-profile-subtitle":"Building Bridges in the Digital Realm: Where Code Meets Infrastructure"},enablePWA:!0,lightgallery:!0,search:{algoliaAppID:"YKOM6PKLUY",algoliaIndex:"index.en",algoliaSearchKey:"a44c110d3ac360be2c69cd79d34b77a8",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"algolia"},siteTime:"2021-12-18T16:15:22+08:00",twemoji:!0,typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-profile-subtitle":["typeit-profile-subtitle"]},duration:-1,loop:!1,speed:100},watermark:{appendto:".wrapper>main",colspacing:30,content:"",enable:!0,fontfamily:"inherit",fontsize:.85,height:21,opacity:.0125,rotate:15,rowspacing:60,width:150}}</script><script src=https://robertgrzelka.pl/js/theme.min.3c39fd0460bb82ac0496cb3c81996b62c8854c8d6b482249987076178efff875.js integrity="sha256-PDn9BGC7gqwElss8gZlrYsiFTI1rSCJJmHB2F47/+HU=" defer></script><script src=https://robertgrzelka.pl/js/custom.min.4b54d853af10f69ba3fb09f3eef291def48696d65f9ce87137612eaa201d5349.js integrity="sha256-S1TYU68Q9puj+wnz7vKR3vSGltZfnOhxN2EuqiAdU0k=" defer></script></body></html>